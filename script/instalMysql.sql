CREATE TABLE pacientes (
  id_paciente int(11) NOT NULL AUTO_INCREMENT,
  nome varchar(250) DEFAULT NULL,
  documento varchar(45) DEFAULT NULL,
  telefone varchar(15) DEFAULT NULL,
  email varchar(100) DEFAULT NULL,
  PRIMARY KEY (id_paciente)
) ENGINE=InnoDB AUTO_INCREMENT=20 DEFAULT CHARSET=latin1;

CREATE TABLE admins (
  idadmin int(11) NOT NULL AUTO_INCREMENT,
  nome varchar(100) DEFAULT NULL,
  email varchar(45) DEFAULT NULL,
  password varchar(100) DEFAULT NULL,
  PRIMARY KEY (idadmin),
  UNIQUE KEY login_UNIQUE (email)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;

CREATE TABLE users (
  id_user int(11) NOT NULL AUTO_INCREMENT,
  nome varchar(80) NOT NULL,
  email varchar(85) NOT NULL,
  crefito varchar(45) DEFAULT NULL,
  documento varchar(45) DEFAULT NULL,
  telefone varchar(45) DEFAULT NULL,
  dt_criacao datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  password varchar(155) DEFAULT NULL,
  userscol varchar(45) DEFAULT NULL,
  photo varchar(245) DEFAULT NULL,
  PRIMARY KEY (id_user),
  UNIQUE KEY email_UNIQUE (email)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=latin1;

CREATE TABLE paciente_user (
  id_user int(11) NOT NULL,
  id_paciente int(11) NOT NULL,
  dt_cricacao datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (id_user,id_paciente),
  KEY fk_id_paciente_idx (id_paciente),
  KEY fk_id_userv_idx (id_user),
  CONSTRAINT fk_id_paciente FOREIGN KEY (id_paciente) REFERENCES pacientes (id_paciente) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT fk_id_userv FOREIGN KEY (id_user) REFERENCES users (id_user) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE evolucoes (
  id_evolucao int(11) NOT NULL AUTO_INCREMENT,
  descricao varchar(500) NOT NULL,
  data datetime NOT NULL,
  id_paciente int(11) DEFAULT NULL,
  id_user int(11) DEFAULT NULL,
  eva int(11) DEFAULT 0,
  PRIMARY KEY (id_evolucao),
  KEY fk_id_user_idx (id_user),
  KEY fk_id_paciente_idx (id_paciente),
  CONSTRAINT fk_evol_id_paciente FOREIGN KEY (id_paciente) REFERENCES pacientes (id_paciente) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT fk_evol_id_user FOREIGN KEY (id_user) REFERENCES users (id_user) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=55 DEFAULT CHARSET=latin1;
